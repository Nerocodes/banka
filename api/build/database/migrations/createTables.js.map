{"version":3,"sources":["../../../src/database/migrations/createTables.js"],"names":["createAllTables","sql","pool","query","then","end","module","exports","require"],"mappings":";;;;AAAA;;AAGA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,MAAMC,GAAG,03BAAT;;AAsCAC,uBAAKC,KAAL,CAAWF,GAAX,EACGG,IADH,CACQ,YAAM;AACVF,yBAAKG,GAAL;AACD,GAHH,WAIS,YAAM;AACXH,yBAAKG,GAAL;AACD,GANH;AAOD,CA9CD;;AAgDAC,MAAM,CAACC,OAAP,GAAiB;AACfP,EAAAA,eAAe,EAAfA;AADe,CAAjB,C,CAIA;;AACAQ,OAAO,CAAC,eAAD,CAAP","sourcesContent":["import pool from '../database';\r\n\r\n\r\nconst createAllTables = () => {\r\n  const sql = `\r\n  DROP TABLE IF EXISTS Users;\r\n\r\n  CREATE TABLE Users(\r\n    id SERIAL PRIMARY KEY,\r\n    email VARCHAR UNIQUE NOT NULL,\r\n    firstName VARCHAR NOT NULL,\r\n    lastName VARCHAR NOT NULL,\r\n    password VARCHAR NOT NULL,\r\n    type VARCHAR NOT NULL,\r\n    isAdmin BOOLEAN\r\n  );\r\n\r\n  DROP TABLE IF EXISTS Accounts;\r\n\r\n  CREATE TABLE Accounts(\r\n    id SERIAL PRIMARY KEY,\r\n    accountNumber INT UNIQUE NOT NULL,\r\n    createdOn DATE NOT NULL DEFAULT CURRENT_DATE,\r\n    owner INT NOT NULL,\r\n    type VARCHAR NOT NULL,\r\n    status VARCHAR NOT NULL,\r\n    balance FLOAT\r\n  );\r\n\r\n  DROP TABLE IF EXISTS Transactions;\r\n\r\n  CREATE TABLE Transactions(\r\n    id SERIAL PRIMARY KEY,\r\n    createdOn DATE NOT NULL DEFAULT CURRENT_DATE,\r\n    type VARCHAR NOT NULL,\r\n    accountNumber INT NOT NULL,\r\n    cashier INT NOT NULL,\r\n    amount FLOAT NOT NULL,\r\n    oldBalance FLOAT,\r\n    newBalance FLOAT\r\n  );\r\n  `;\r\n  pool.query(sql)\r\n    .then(() => {\r\n      pool.end();\r\n    })\r\n    .catch(() => {\r\n      pool.end();\r\n    });\r\n};\r\n\r\nmodule.exports = {\r\n  createAllTables,\r\n};\r\n\r\n// eslint-disable-next-line import/first\r\nrequire('make-runnable');\r\n"],"file":"createTables.js"}