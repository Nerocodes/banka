{"version":3,"sources":["../../src/test/user.test.js"],"names":["should","chai","use","chaiHttp","describe","signUpUrl","it","done","user","firstName","lastName","email","password","request","app","post","send","end","err","res","body","have","status","be","a","data","property","error","name","equal","signInUrl"],"mappings":"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","sourcesContent":["import chaiHttp from 'chai-http';\r\nimport chai from 'chai';\r\nimport app from '../index';\r\n\r\n// eslint-disable-next-line no-unused-vars\r\nconst should = chai.should();\r\nchai.use(chaiHttp);\r\n\r\n// Test user sign up\r\ndescribe('Testing user signup', () => {\r\n  const signUpUrl = '/api/v1/auth/signup';\r\n  it('should register new user when all required fields are given', (done) => {\r\n    const user = {\r\n      firstName: 'Oghenero',\r\n      lastName: 'Paul-Ejukorlem',\r\n      email: 'neropaulej@gmail.com',\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signUpUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(201);\r\n        res.body.should.be.a('object');\r\n        res.body.data.should.have.property('id');\r\n        res.body.data.should.have.property('email');\r\n        res.body.data.should.have.property('firstName');\r\n        res.body.data.should.have.property('lastName');\r\n        res.body.data.should.have.property('type');\r\n        res.body.data.should.have.property('isAdmin');\r\n        res.body.data.should.have.property('token');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not register new user when first name field is missing', (done) => {\r\n    const user = {\r\n      lastName: 'Paul-Ejukorlem',\r\n      email: 'neropaulej@gmail.com',\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signUpUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not register new user when last name field is missing', (done) => {\r\n    const user = {\r\n      firstName: 'Oghenero',\r\n      email: 'neropaulej@gmail.com',\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signUpUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not register new user when email field is missing', (done) => {\r\n    const user = {\r\n      firstName: 'Oghenero',\r\n      lastName: 'Paul-Ejukorlem',\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signUpUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not register new user when password field is missing', (done) => {\r\n    const user = {\r\n      firstName: 'Oghenero',\r\n      lastName: 'Paul-Ejukorlem',\r\n      email: 'neropaulej@gmail.com',\r\n    };\r\n    chai.request(app)\r\n      .post(signUpUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n});\r\n\r\n// Test for user sign in\r\ndescribe('Testing user signin', () => {\r\n  const signInUrl = '/api/v1/auth/signin';\r\n  it('should sign in a user when all required fields are given', (done) => {\r\n    const user = {\r\n      email: 'neropaulej@gmail.com',\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signInUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(201);\r\n        res.body.should.be.a('object');\r\n        res.body.data.should.have.property('id');\r\n        res.body.data.should.have.property('email');\r\n        res.body.data.should.have.property('firstName');\r\n        res.body.data.should.have.property('lastName');\r\n        res.body.data.should.have.property('type');\r\n        res.body.data.should.have.property('isAdmin');\r\n        res.body.data.should.have.property('token');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not sign in user when email field is missing', (done) => {\r\n    const user = {\r\n      password: 'password',\r\n    };\r\n    chai.request(app)\r\n      .post(signInUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n\r\n  it('should not sign in user when password field is missing', (done) => {\r\n    const user = {\r\n      email: 'nerocodes@email.com',\r\n    };\r\n    chai.request(app)\r\n      .post(signInUrl)\r\n      .send(user)\r\n      .end((err, res) => {\r\n        // console.log(res.body);\r\n        res.body.should.have.status(400);\r\n        res.body.should.be.a('object');\r\n        res.body.error.name.should.equal('ValidationError');\r\n        res.body.error.should.have.property('details');\r\n        done();\r\n      });\r\n  });\r\n});\r\n"],"file":"user.test.js"}